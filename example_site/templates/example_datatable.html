{% extends "base.html" %}
{% from "macros/adv_datatable.html" import adv_table with context %}
{% block styles %}
{{super()}}
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/css/bootstrap.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/select/1.2.3/css/select.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.4.2/css/buttons.dataTables.min.css">

{% endblock %}

{% block content %}
<div class="container-fluid">
	<div class="row">
		<div class="card">
			  <div class="card-header">
				 <h4 class="card-title">{{table.title}}</h4>
			  </div>
			<div class="col-lg-12">
				<p class="card-text">{{adv_table(table.columns, table.rows)}}</p>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block scripts %}}
{{super()}}
<!-- DataTables JavaScript -->
<script src="//code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>

<!--For DataTables Buttons-->
<script src="https://editor.datatables.net/extensions/Editor/js/dataTables.editor.min.js"></script>
<script src="https://cdn.datatables.net/select/1.2.3/js/dataTables.select.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.4.2/js/dataTables.buttons.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
<script src="//cdn.datatables.net/buttons/1.4.2/js/buttons.html5.min.js"></script>
<script src="//cdn.datatables.net/buttons/1.4.2/js/buttons.print.min.js"></script>



<!-- Page-Level Demo Scripts - Tables - Use for reference -->
<script>
$(document).ready(function() {
	table = $('#example').DataTable({
			"ajax": "{{ datapath|indent(4)|safe }}",
			dom: 'Blfrtip',
			"pageLength": 25,
			"scrollX": true,
			buttons: [{
						extend: 'collection',
						text: 'Export',
						buttons: [
							'copy',
							'excel',
							'csv',
							'pdf',
							'print'
						]
					}
				]
	}
	);
//SEE: https://datatables.net/reference/button/pdfHtml5
} );
</script>
{% endblock %}